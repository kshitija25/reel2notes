# dtgaomre1bz

Source: https://www.instagram.com/reel/DTGaOmrE1Bz/?igsh=dmU2b2xza3BwdGRv
Created: 2026-02-04 23:43

## English (quick review)
Fuckups happens in big companies like Amazon So I found this incident on LinkedIn shared by Sanchit The technicals of this incident are a bit complex But I'll try to simplify it as much as possible So Sanchit and his team wanted to migrate from Oracle database to DynamoDB Now first of all, Oracle is an SQL DB and DynamoDB is a NoSQL DB On first place, this migration didn't digest What could be the reason? I could digest this only with one thing That was the scaling issue The Oracle DB is vertically scaled The DynamoDB is horizontally scaled If scaling is the issue, somewhere it makes sense Now they took a particular service and migrated it to DynamoDB Migration was done properly Their testing dashboard was completely green There was no issue Everything was running well, they did load testing and checked So after migration, for first 1-2 weeks things were working fine But eventually some users started getting issues Some are not able to login, some are getting too much delay So why was this happening? So their testing mechanism checks the average What does this mean? You tested with 100 users Now we'll get the average response of 100 users Let's suppose it comes out to be 5 seconds Now 5 seconds doesn't mean that all users will get output in 5 seconds It could also be that the first 4 users got output in 1 second And the last 5 users got output in 15 seconds So here also the same thing happened Their P95 to P99 latency was too much Now P95 to P99 means that your last 5 users are facing too much delay Compared to the first 95 users Now since users are not able to login, this is a huge issue So their team and Sanjit got into a fight And for some reason they didn't have a rollback mechanism So they weren't able to rollback So the second solution was to increase their DynamoDB capacity Now if you increase their capacity, the bill will also get torn Same thing happened The finance team came and sat on Sanjit's head And asked him what he did Your team is generating 50,000 revenue And your bill is coming to 60,000 So here the meme gets recreated Our investment was 35 lakhs, so how did the loss of 36 lakhs happen? Anyways, so what was the issue here? There are partitions in DynamoDB And these partitions define the partition key So any request you get Suppose it's a put request So it's a hash function of the partition key And this hash function defines which partition it will go to Now what is a partition? Consider it as a hard disk that is stored in different places Like one hard disk is in my house and the other is in your house But the data you see is treated as one single unit This is what horizontal scaling means Your data is stored in different places So they were facing a hot partitioning issue This means that all their read and write operations Are happening on the same hard disk, on the same partition Suppose they have 50 partitions But only 2 of them are being used rigorously The other 48 are empty And why was this happening? Because they did not define the partition keys properly And you will get more such tech fuckups on my profile If you like it, do give a follow Bye bye

## Raw transcript (verify details)
यार फ़ग आप सामाज़ण जईसी बड़ी कमपनिज ने भी होते हैं So I found this incident on LinkedIn shared by Sanchit So incident के technicals तोड़े complex है But I'll try to simplify it as much as possible So Sanchit and his team These guys wanted to migrate from Oracle database to DynamoDB अप फ़र्सट अप वाल, Oracle वहां जो एक SQL DB है And DynamoDB एक No SQL DB है On first place यह migration में को digest नहीं आप ओगा What could be the reason? मैं से एक चीज़ से digest कर पाया इस चीज़ को That was the scaling issue जो Oracle DB राकल दीबी रहता है वो vertical scale होता है जो DynamoDB रहता है तो हूर्जान्डल इस scale कर सकते हो If scaling is the issue, somewhere it makes sense अब इनोने एक particular service लिए और उसको DynamoDB वे migrate कर दिया Migration वहां सब सही से हुआ इनका जो testing dashboard तो पूरा green था There was no issue सब सही चल रहे है लोड टेस्टिंग वेर सब कर देख लिए नोने So after migration, for first 1-2 weeks, things were working fine बर इवंचलिलिए कुछ users को issues आने लग गगगे कोई login नहीं कर पारह है, कुछ को बहुत जादा delay आ रहा है तो भी ये क्यो रहा था? इनका जो testing mechanism तो average check करता है इसका क्या मतलब हुआ? तुमने 100 users के testing करी अब 100 users का average response निकालेंगे Let's suppose it comes out to be 5 seconds अब इन 5 seconds का ये मतलब नहीं है कि जितने भी users ते उनको 5 second में आउटपूट मिला रहेगा ऐसा भी हो सकते है कि पहले के 4 users को 1 second में आउटपूट मिल गया और आखरी के 5 users को 15 second में आउटपूट मिला तो यहाँ भी सेम चीज भी हैं इनकी जो P95 to P99 latency ती वो भहुत जादा थी अब P95 to P99 का मतलब जो तुमारे आखरे 5 users है उनको भहुत जादा delay face करना पडरह है पर पहले 95 users अब आप आप इससे लोगिन नहीं खर पारे हैं तो यह भहुत बढ़ा इश्यो हो गया तो संचित और उनकी team की फट गी और आप उनकी पास कोई roll back mechanism नहीं था तो यह roll back भी नहीं खर पारे थे तो दूसरा solution यह था तो अप कपासिटी इनक्रिस कर थी तो भिल भी पटे गा अपने भी पास जाएंगा वो finance team ती वो संचित के सर पारे भी खर पारे गी तो बाहि तुम नहीं खर दिया तो आप आप पर परइश्याद कर रवीनियो जेन्रेट कर रही है तो आप वो meme री क्रेट हो आता है 35 लक का हमारे investment तो तो बहें जो 36 लक का घाता कैसे हो गया इशू क्या हुआ था? डानामड़ी भीम में पार्टिशन्स होता हैं और इस पार्टिशन्स डिफानग करता है पार्टिशन्स की तो तोमारी कोई भी एक request आगी इन्हों नहीं डग से डिफानग नहीं करीती और तोमको एसे और tech f***ups मेरे प्रफाइव पे मिल चाएंगे अपने लिए तो जाओगा देखा पालो
